---
excludes:
  - "**/tmp"

processors:
  - name: "gofmt"
    includes:
      - "**/*.go"
    check:
      template: "gofmt -d"
      input: variadic
      output: stdout
      format: none
    # fix:
    #   template: "gofmt -w"
    #   input: variadic
    #   output: none
    # editor_config: true
    # check_before_fix: true

  - name: "markdownlint"
    includes:
      - "**/*.md"
    check:
      template: "markdownlint --json"
      input: variadic # stdin, arg, variadic
      output: stderr # stdout, stderr
      format: json
      mapping:
        level: "error"
        path: "{{ .fileName }}"
        start_line: "{{ .lineNumber }}"
        start_column: "{{ index .errorRange 0 }}"
        end_line: "{{ .lineNumber }}"
        end_column: "{{ add (index .errorRange 0) (index .errorRange 1) }}"
        rule_id: "{{ index .ruleNames 0 }}"
        rule_name: "{{ .ruleDescription }}"
        rule_description: "{{ .errorDetail }}"
        rule_uri: "{{ .ruleInformation }}"
    # fix:
    #   template: "markdownlint --fix"
    #   input: variadic
    #   output: none

  # - name: "shellcheck"
  #   includes:
  #     - "**/*.sh"

  # - name: "yamllint"
  #   includes:
  #     - "**/*.{yaml,yml}"
  #   excludes:
  #     - "**/secrets.yaml"
